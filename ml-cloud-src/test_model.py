from sklearn.externals import joblib
import numpy as np
clf = joblib.load('model.pkl')
myinput = np.array([  1.16200000e+01,   1.81800000e+01,   7.63800000e+01,\
         4.08800000e+02,   1.17500000e-01,   1.48300000e-01,\
         1.02000000e-01,   5.56400000e-02,   1.95700000e-01,\
         7.25500000e-02,   4.10100000e-01,   1.74000000e+00,\
         3.02700000e+00,   2.78500000e+01,   1.45900000e-02,\
         3.20600000e-02,   4.96100000e-02,   1.84100000e-02,\
         1.80700000e-02,   5.21700000e-03,   1.33600000e+01,\
         2.54000000e+01,   8.81400000e+01,   5.28100000e+02,\
         1.78000000e-01,   2.87800000e-01,   3.18600000e-01,\
         1.41600000e-01,   2.66000000e-01,   9.27000000e-02]).reshape(1,-1)
print(clf.predict(myinput))


import requests
import json

url = 'http://127.0.0.1:8080/predict'
data = json.dumps([{  "1":1.62500000e+01,   "2":1.95100000e+01,   "3":1.09800000e+02,
         "4":8.15800000e+02,   "5":1.02600000e-01,   "6":1.89300000e-01,
         "7":2.23600000e-01,   "8":9.19400000e-02,   "9":2.15100000e-01,
         "10":6.57800000e-02,  "11":3.14700000e-01,   "12":9.85700000e-01,
         "13":3.07000000e+00,   "14":3.31200000e+01,   "15":9.19700000e-03,
         "16":5.47000000e-02,   "17":8.07900000e-02,   "18":2.21500000e-02,
         "19":2.77300000e-02,   "20":6.35500000e-03,   "21":1.73900000e+01,
         "22":2.30500000e+01,   "23":1.22100000e+02,   "24":9.39700000e+02,
         "25":1.37700000e-01,   "26":4.46200000e-01,   "27":5.89700000e-01,
         "28":1.77500000e-01,   "29":3.31800000e-01,   "30":9.13600000e-02}])
r = requests.post(url,data)
print(r.json())
